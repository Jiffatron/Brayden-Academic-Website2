import{r,p as y,j as e,A as f,m as o}from"./index-EZm5l6uo.js";const n=4,v={hidden:{opacity:0,y:16},visible:{opacity:1,y:0},exit:{opacity:0,y:-16}};function w({project:a,onClose:i}){const[b,d]=r.useState(!1),[t,c]=r.useState(0),m=r.useRef(null),l=r.useMemo(()=>y.filter(s=>s.id!==a.id),[a.id]),x=r.useMemo(()=>Array.from({length:Math.ceil(l.length/n)},(s,h)=>l.slice(h*n,(h+1)*n)),[l]),p=x[t]??[];r.useEffect(()=>{var s;(s=m.current)==null||s.focus()},[]);const u=s=>{s.key==="Escape"&&i()},g=s=>{a.pdfUrl||(s.preventDefault(),alert("PDF is not available at this moment. Please check back later."))};return e.jsx(f,{children:e.jsxs("div",{ref:m,tabIndex:-1,onKeyDown:u,className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx(o.div,{className:"absolute inset-0 bg-background/80 dark:bg-[hsl(var(--navy-dark))] backdrop-blur-md",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},onClick:i}),e.jsxs(o.div,{className:"relative glass-card rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto m-4 border border-primary/20",initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:24},transition:{type:"spring",stiffness:400,damping:32},children:[e.jsx("button",{"aria-label":"Close modal",onClick:i,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors z-10",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsx("div",{className:"p-6 md:p-8",children:b&&a.pdfUrl?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:a.title}),e.jsx("button",{onClick:()=>d(!1),className:"mb-4 px-4 py-2 bg-primary/10 border border-primary/30 rounded-md text-primary hover:bg-primary/20 transition-colors flex items-center gap-2",children:"â† Back to Details"}),e.jsx("iframe",{src:a.pdfUrl,title:`${a.title} PDF`,className:"w-full h-[70vh] border border-primary/20 rounded-lg shadow-lg"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative rounded-lg mb-6 shadow-lg overflow-hidden",children:[e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover transition-transform duration-700 hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[hsl(var(--navy-dark))] to-transparent opacity-40"})]}),e.jsx("h2",{className:"text-2xl font-serif font-bold mb-4",children:a.title}),e.jsx("div",{dangerouslySetInnerHTML:{__html:a.content},className:"prose prose-sm max-w-none dark:prose-invert"}),a.hasPreview&&a.pdfUrl&&e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/80 transition-colors flex items-center gap-2 shadow-md",children:"ðŸ‘ View in Browser"}),e.jsx("a",{href:a.pdfUrl,download:!0,onClick:g,className:"px-4 py-2 bg-primary/10 border border-primary/30 rounded-md text-primary hover:bg-primary/20 transition-colors flex items-center gap-2 shadow-md",children:"â‡£ Download PDF"})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Other Projects"}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("button",{disabled:t===0,onClick:()=>c(s=>s-1),className:"px-3 py-1 rounded disabled:opacity-30 border",children:"â† Prev"}),e.jsx("button",{disabled:t>=x.length-1,onClick:()=>c(s=>s+1),className:"px-3 py-1 rounded disabled:opacity-30 border",children:"Next â†’"})]}),e.jsx(f,{mode:"wait",children:e.jsx(o.div,{variants:v,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.25},className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(s=>e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-md overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-40 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:s.description})]})]},s.id))},t)})]})]})})]})]})})}export{w as default};
